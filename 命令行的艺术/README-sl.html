<p>🌍<br><em><a href="README-cs.md">Čeština</a> ∙ <a href="README-de.md">Deutsch</a> ∙ <a href="README-el.md">Ελληνικά</a> ∙ <a href="README.md">English</a> ∙ <a href="README-es.md">Español</a> ∙ <a href="README-fr.md">Français</a> ∙ <a href="README-id.md">Indonesia</a> ∙ <a href="README-it.md">Italiano</a> ∙ <a href="README-ja.md">日本語</a> ∙ <a href="README-ko.md">한국어</a> ∙ <a href="README-pt.md">Português</a> ∙ <a href="README-ro.md">Română</a> ∙ <a href="README-ru.md">Русский</a> ∙ <a href="README-sl.md">Slovenščina</a> ∙ <a href="README-uk.md">Українська</a> ∙ <a href="README-zh.md">简体中文</a> ∙ <a href="README-zh-Hant.md">繁體中文</a></em></p>
<h1 id="Umetnost-ukazne-vrstice"><a href="#Umetnost-ukazne-vrstice" class="headerlink" title="Umetnost ukazne vrstice"></a>Umetnost ukazne vrstice</h1><p><a href="https://airtable.com/shrzMhx00YiIVAWJg"><img src="https://img.shields.io/badge/%3f-Ask%20a%20Question-ff69b4.svg" alt="Vprašajte"></a></p>
<p><a href="https://gitter.im/jlevy/the-art-of-command-line?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge"><img src="https://badges.gitter.im/Join%20Chat.svg" alt="Join the chat at https://gitter.im/jlevy/the-art-of-command-line"></a></p>
<ul>
<li><a href="#meta">Meta</a></li>
<li><a href="#osnove">Osnove</a></li>
<li><a href="#vsakodnevna-uporaba">Vsakodnevna uporaba</a></li>
<li><a href="#procesiranje-datotek-in-podatkov">Procesiranje datotek in podatkov</a></li>
<li><a href="#sistemsko-razhroščevanje">Sistemsko razhroščevanje</a></li>
<li><a href="#v-eni-vrstici">V eni vrstici</a></li>
<li><a href="#nepregledno-vendar-uporabno">Nepregledno vendar uporabno</a></li>
<li><a href="#samo-za-macos">Samo za macOS</a></li>
<li><a href="#samo-za-windows">Samo za Windows</a></li>
<li><a href="#več-virov">Več virov</a></li>
<li><a href="#pogoji-uporabe">Pogoji uporabe</a></li>
</ul>
<p><img src="cowsay.png" alt="curl -s &#39;https://raw.githubusercontent.com/jlevy/the-art-of-command-line/master/README.md&#39; | egrep -o &#39;`\w+`&#39; | tr -d &#39;`&#39; | cowsay -W50"></p>
<p>Jedrnatost v ukazni vrstici je znanje, ki je pogostokrat zanemarjeno ali smatrano za zastarelo, vendar izboljša vašo fleksibilnost in produktivnost kot inženir na očitne in neočitne načine. To so izbrani zapiski in nasveti glede uporabe ukazne vrstice, ki smo jo našli uporabno pri delu z Linux-om. Nekateri nasveti so elementarni in nekateri so precej določeni, sofisticirani ali nepregledni. Ta stran ni dolga, vendar če lahko uporabite in se spomnite vseh elementov tu, boste vedeli veliko.</p>
<p>To delo je rezultat <a href="AUTHORS.md">mnogih avtorjev in prevajalcev</a>.<br>Nekaj tega<br>se je <a href="http://www.quora.com/What-are-some-lesser-known-but-useful-Unix-commands">prvotno</a><br><a href="http://www.quora.com/What-are-the-most-useful-Swiss-army-knife-one-liners-on-Unix">pojavilo</a><br>na <a href="http://www.quora.com/What-are-some-time-saving-tips-that-every-Linux-user-should-know">Quori</a>,<br>vendar se je premaknilo na GitHub, kjer so ljudje bolj talentirani od prvotnega avtorja naredili številne izboljšave.<br><a href="https://airtable.com/shrzMhx00YiIVAWJg"><strong>Vprašajte</strong></a>, če imate vprašanje povezano z ukazno vrstico. <a href="/CONTRIBUTING.md"><strong>Prosimo, prispevajte</strong></a>, če vidite napako ali nekaj, kar bi lahko bilo boljše!</p>
<h2 id="Meta"><a href="#Meta" class="headerlink" title="Meta"></a>Meta</h2><p>Obseg:</p>
<ul>
<li>Ta vodič je tako za začetnike kot za poznavalce. Cilji so <em>širina</em> (vse pomembno), <em>specifičnost</em> (podaja konkretne primere najpogostejših primerov uporabe) in <em>kratkost</em> (izogiba se stvarem, ki niso bistvene ali se odmikajo, kar lahko enostavno pogledate drugje). Vsak nasvet je bistven v določeni situaciji ali bistveno prihrani čas pred alternativami.</li>
<li>To je napisano za Linux z izjemo sekcij “<a href="#samo-za-macos">Samo za macOS</a>“ in “<a href="#samo-za-windows">Samo za Windows</a>“. Mnogi ostali elementi veljajo ali pa so lahko nameščeni na drugih Unix-ih ali macOS (ali celo Cygwin).</li>
<li>Poudarek je na interaktivnosti Bash-a, čeprav mnogo nasvetov velja za ostale lupine in splošno skriptanje Bash-a.</li>
<li>Vključuje tako “standardne” ukaze Unix-a kot tudi tiste, ki zahtevajo namestitev posebnih paketov – dokler so dovolj pomembni, da zaslužijo vključitev.</li>
</ul>
<p>Opombe:</p>
<ul>
<li>Da se obdrži to na eni strani, je vsebina implicitno vključena z referencami. Ste dovolj pametni, da poiščete več podrobnosti drugje, ko enkrat poznate idejo ali ukaz za iskanje na Google-u. Uporabite <code>apt-get</code>, <code>yum</code>, <code>dnf</code>, <code>pacman</code>, <code>pip</code> ali <code>brew</code> (kot je ustrezno), da namestite nove programe.</li>
<li>Uporabite <a href="http://explainshell.com/">Explainshell</a>, da dobite uporabne razčlenitve, kaj ukazi, opcije, cevi itd. naredijo.</li>
</ul>
<h2 id="Osnove"><a href="#Osnove" class="headerlink" title="Osnove"></a>Osnove</h2><ul>
<li><p>Naučite se osnovni Bash. Dejansko vtipkajte <code>man bash</code> in vsaj prelistajte celotno stvar; slediti je precej enostavno in ni tako dolgo. Alternativne lupine so lahko lepe, vendar Bash je močan in vedno na voljo (učenje <em>samo</em> zsh, fish itd., medtem ko poskušate na lastno pest na vašem prenosniku, vas omeji v mnogih situacijah, kot je uporaba obstoječih strežnikov).</p>
</li>
<li><p>Dobro se naučite vsaj enega izmed tekstovnih urejevalnikov. Urejevalnik <code>nano</code> je eden izmed najenostavnejših za osnovno urejanje (odpiranje, urejanje, shranjevanje, iskanje). Vendar za bolj vešče uporabnike v tekstovnem terminalu, ni zamenjave za Vim (<code>vi</code>), težko priučljiv vendar častljiv, hiter urejevalnik poln možnosti. Mnogi uporabljajo tudi klasični Emacs, še posebej za večja opravila urejanja. (Seveda, katerikoli moderni razvijalec, ki dela na razširljivem projektu, ne bo uporabljal samo čisto tekstovnega urejevalnika in bi moral biti seznanjen tudi z modernimi IDE in orodji z grafičnimi vmesniki.)</p>
</li>
<li><p>Spoznajte, kako brati dokumentacijo z <code>man</code> (za radovedne, <code>man man</code> izpiše številke sekcij, npr. 1 so “splošni” ukazi, 5 so datoteke/konvencije in 8 je za administracijo). Najdite strani man z <code>apropos</code>. Vedite, da nekateri ukazi niso izvršljivi, vendar vgrajeni v Bash in pomoč zanje lahko dobite s <code>help</code> in <code>help -d</code>. Z uporabo <code>type command</code> lahko izvedete, ali je ukaz izvršljiv, vgrajen v lupino ali pa je alias.</p>
</li>
<li><p>Naučite se o preusmeritvi izpisa in vnosa z uporabo <code>&gt;</code> in <code>&lt;</code> ter uporabo cevi <code>|</code>. Vedite, da <code>&gt;</code> prepiše izpis datoteke in <code>&gt;&gt;</code> ga pripne. Naučite se o stdout in stderr.</p>
</li>
<li><p>Naučite se o razširitvi datotek glob z <code>*</code> (in mogoče <code>?</code> ter <code>[</code>…<code>]</code>) in citiranje ter razliko med dvojnim <code>&quot;</code> in enojnim <code>&#39;</code> citatom. (Poglejte več o razširitvi spremenljivk spodaj.)</p>
</li>
<li><p>Seznanite se z upravljanjem nalog Bash-a: <code>&amp;</code>, <strong>ctrl-z</strong>, <strong>ctrl-c</strong>, <code>jobs</code>, <code>fg</code>, <code>bg</code>, <code>kill</code> itd.</p>
</li>
<li><p>Spoznajte <code>ssh</code> in osnove avtentikacije brez gesla, preko <code>ssh-agent</code>, <code>ssh-add</code> itd.</p>
</li>
<li><p>Osnovno upravljanje datotek: <code>ls</code> in <code>ls -l</code> (še posebej se naučite, kaj vsak stolpec v <code>ls -l</code> pomeni), <code>less</code>, <code>head</code>, <code>tail</code> in <code>tail -f</code> (ali celo boljše, <code>less +F</code>), <code>ln</code> in <code>ln -s</code> (naučite se razlike in prednosti trdih in mehkih povezav), <code>chown</code>, <code>chmod</code>, <code>du</code> (za hiter povzetek uporabe diska: <code>du -hs *</code>). Za upravljanje datotečnega sistema, <code>df</code>, <code>mount</code>, <code>fdisk</code>, <code>mkfs</code>, <code>lsblk</code>. Naučite se, kaj je inode (<code>ls -i</code> or <code>df -i</code>).</p>
</li>
<li><p>Osnovno upravljanje omrežja: <code>ip</code> ali <code>ifconfig</code>, <code>dig</code>, <code>traceroute</code>, <code>route</code>.</p>
</li>
<li><p>Naučite se in uporabljajte sistem za nadzor različic, kot je <code>git</code>.</p>
</li>
<li><p>Poznajte tudi splošne izraze in različne zastavice za <code>grep</code>/<code>egrep</code>. Opcije <code>-i</code>, <code>-o</code>, <code>-v</code>, <code>-A</code>, <code>-B</code> in <code>-C</code> so vredne poznavanja.</p>
</li>
<li><p>Naučite se uporabljati <code>apt-get</code>, <code>yum</code>, <code>dnf</code> ali <code>pacman</code> (odvisno od distribucije), da najdete in namestite pakete. In zagotovite, da imate <code>pip</code>, da lahko nameščate orodja ukazne vrstice na osnovi Python-a (nekaj spodnjih je najenostavneje namestiti preko <code>pip</code>).</p>
</li>
</ul>
<h2 id="Vsakodnevna-uporaba"><a href="#Vsakodnevna-uporaba" class="headerlink" title="Vsakodnevna uporaba"></a>Vsakodnevna uporaba</h2><ul>
<li><p>V Bash-u uporabite <strong>Tab</strong> za dokončanje argumentov ali izpis vseh ukazov, ki so na voljo, in <strong>ctrl-r</strong>, da iščete skozi zgodovino ukazov (po pritiski, vtipkajte za iskanje, pritisnite <strong>ctrl-r</strong> s ponavljanjem za kroženje skozi več ujemanj, pritisnite <strong>Enter</strong>, da izvršite najdeni ukaz, ali pritisnite desno puščico, da date trenutni rezultat v trenutno vrstico in omogočite urejanje).</p>
</li>
<li><p>V Bash-u uporabite <strong>ctrl-w</strong>, da izbrišete zadnjo besedo in <strong>ctrl-u</strong>, da izbrišete vse do začetka vrstice. Uporabite <strong>alt-b</strong> in <strong>alt-f</strong>, da se premikate po besedah, <strong>ctrl-a</strong>, da premaknete kurzor na začetek vrstice, <strong>ctrl-e</strong>, da premaknete kurzor na konec vrstice, <strong>ctrl-k</strong>, da ubijete do začetka vrstice, <strong>ctrl-l</strong>, da počistite zaslon. Glejte <code>man readline</code> za vse privzete vezave tipk v Bash-u. Na voljo jih je veliko. Na primer <strong>alt-.</strong> kroži skozi prejšnje argumente in <strong>alt-*</strong> razširi glob.</p>
</li>
</ul>
<ul>
<li><p>Alternativno, če imate radi vi-stilske vezave tipk, uporabite <code>set -o vi</code> (in <code>set -o emacs</code> za povrnitev nazaj).</p>
</li>
<li><p>Za urejanje dolgih ukazov, po nastavitvi vašega urejevalnika (na primer <code>export EDITOR=vim</code>), <strong>ctrl-x</strong> <strong>ctrl-e</strong> bo odprlo trenutni ukaz v urejevalniku za več vrstično urejanje. Ali v stilu vi, <strong>escape-v</strong>.</p>
</li>
<li><p>Če si želite ogledati nedavne ukaze, uporabite <code>history</code>. Nadalje <code>!n</code> (kjer je <code>n</code> številka ukaza), da ga ponovno izvedete. Na voljo je tudi veliko okrajšav, najuporabnejša verjetno <code>!$</code> za zadnji argument in <code>!!</code> za zadnji ukaz (glejte “HISTORY EXPANSION” na man straneh). Vendar so le-te pogostokrat enostavno zamenjane s <strong>ctrl-r</strong> in <strong>alt-.</strong>.</p>
</li>
<li><p>Pojdite v vaš domači direktorij s <code>cd</code>. Dostopajte do datotek relativno glede na vaš domači direktorij s predpono <code>~</code> (npr. <code>~/.bashrc</code>). V <code>sh</code> skriptah se sklicujte na domači direktorij kot <code>$HOME</code>.</p>
</li>
<li><p>Da greste nazaj na prejšnji delovni dirketorij: <code>cd -</code></p>
</li>
<li><p>Če ste na pol poti skozi vpisovanje ukaza, vendar si premislite, vtipkajte <strong>alt-#</strong>, da dodate <code>#</code> na začetek in ga vnesete kot komentar (ali uporabite <strong>ctrl-a</strong>, <strong>#</strong>, <strong>enter</strong>). Nato se lahko vrnete k njemu kasneje preko zgodovine ukazov.</p>
</li>
<li><p>Uporabite <code>xargs</code> (ali <code>parallel</code>). Je zelo močan. Bodite pozorni, da lahko kontrolirate, kolikokrat izvršite na vrstico (<code>-L</code>) kot tudi paralelnost (<code>-P</code>). Če niste prepričani, da bo naredilo pravilno stvar, uporabite najprej <code>xargs echo</code>. Tudi <code>-I{}</code> je priročen. Primeri:</p>
<pre><code class="bash">find . -name <span class="string">'*.py'</span> | xargs grep some_function
cat hosts | xargs -I{} ssh root@{} hostname
</code></pre>
</li>
<li><p><code>pstree -p</code> je priročen prikaz drevesa procesov.</p>
</li>
<li><p>Uporabite <code>pgrep</code> in <code>pkill</code>, da najdete ali signalizirate procese po imenu (<code>-f</code> je v pomoč).</p>
</li>
<li><p>Poznajte različne signale, katerim lahko pošljete procese. Na primer, da suspendirate proces, uporabite <code>kill -STOP [pid]</code>. Za celotni seznam glejte <code>man 7 signal</code></p>
</li>
<li><p>Uporabite <code>nohup</code> ali <code>disown</code>, če želite, da proces iz ozadja vedno poteka.</p>
</li>
<li><p>Preverite, kateri procesi se poslušajo preko <code>netstat -lntp</code> ali <code>ss -plat</code> (za TCP; dodajte <code>-u</code> za UDP) ali <code>lsof -iTCP -sTCP:LISTEN -P -n</code> (kar deluje tudi na macOS).</p>
</li>
<li><p>Glejte tudi <code>lsof</code> in <code>fuser</code> za odprte priključke in datoteke.</p>
</li>
<li><p>Glejte <code>uptime</code> ali <code>w</code>, da izveste, koliko časa se sistem poganja.</p>
</li>
<li><p>Uporabite <code>alias</code>, da ustvarite bližnjice za pogosto uporabljene ukaze. Na primer, <code>alias ll=&#39;ls -latr&#39;</code> ustvari nov alias <code>ll</code>.</p>
</li>
<li><p>Shranite aliase, nastavitve lupine in funkcije, ki jih pogosto uporabljate v <code>~/.bashrc</code> in <a href="http://superuser.com/a/183980/7106">uredite prijave lupin za izvorno kodo</a>. To bo naredilo vašo namestitev na voljo v vseh sejah vaše lupine.</p>
</li>
<li><p>Dajte nastavitve spremenljivk okolja kot tudi ukaze, ki bi morali biti izvršeni, ko se prijavite v <code>~/.bash_profile</code>. Ločena nastavitev bo potrebna za lupine, ki jih zaženete iz prijave grafičnega okolja in s periodičnimi opravili <code>cron</code>.</p>
</li>
<li><p>Sinhronizirajte vaše nastavitvene datoteke (npr. <code>.bashrc</code> in <code>.bash_profile</code>) med različnimi računalniki s pomočjo Git.</p>
</li>
<li><p>Razumite, da je potrebna skrb, ko spremenljivke in imena datotek vsebujejo prazne znake. Obdajte vaše spremenljivke Bash s citati, npr. <code>&quot;$FOO&quot;</code>. Raje cenite opciji <code>-0</code> ali <code>-print0</code>, da omogočite razmejevanje imen datotek z ničelnimi znaki, npr. <code>locate -0 pattern | xargs -0 ls -al</code> ali <code>find / -print0 -type d | xargs -0 ls -al</code>. Za iteracijo v for zanki na imenih datotek, ki vsebujejo prazne znake, nastavite da vaš IFS za nove vrstice uporablja samo <code>IFS=$&#39;\n&#39;</code>.</p>
</li>
<li><p>V skriptah Bash uporabite <code>set -x</code> (ali varianto <code>set -v</code>, ki beleži dnevnik surovega izpisa, vključno z nerazširjenimi spremenljivkami in komentarji) za razhroščevanje izpisa. Uporabite striktni način razen, če imate dober razlog, da ga ne: Uporabite <code>set -e</code>, da preskočite napake (neničelna koda izhoda). Uporabite <code>set -u</code>, da zaznate uporabo nenastavljenih spremenljivk. Premislite tudi o <code>set -o pipefail</code>, da na napakah znotraj pip, (vendar preberite o tem več, če boste to uporabili, saj je ta tema nekoliko subtilna). Za bolj vključene skripte, uporabite tudi <code>trap</code> pri EXIT ali ERR. Uporabna navada je tako začeti skripto, kar bo naredilo, da lahko zazna ali prekliče na pogostih napakah in izpiše sporočilo:</p>
<pre><code class="bash"><span class="built_in">set</span> -euo pipefail
<span class="built_in">trap</span> <span class="string">"echo 'error: Script failed: see failed command above'"</span> ERR
</code></pre>
</li>
<li><p>V skriptah Bash so podlupine (napisane z oklepaji) priročen način za grupiranje ukazov. Skupen primer je začasno premakniti na različen delovni direktorij, npr.</p>
<pre><code class="bash"><span class="comment"># do something in current dir</span>
(<span class="built_in">cd</span> /some/other/dir &amp;&amp; other-command)
<span class="comment"># continue in original dir</span>
</code></pre>
</li>
<li><p>V Bash-u bodite pozorni, saj je veliko vrst razširjenih spremenljivk. Preverjanje, če spremenljivka obstaja: <code>${name:?error message}</code>. Na primer, če skripta Bash zahteva en argument, samo napišite <code>input_file=${1:?usage: $0 input_file}</code>. Uporaba privzete vrednosti, če je spremenljivka prazna: <code>${name:-default}</code>. Če želite, imeti dodatni (opcijski) parameter dodan k prejšnjemu primeru, lahko uporabite nekaj takega <code>output_file=${2:-logfile}</code>. Če je <code>$2</code> izpuščen in tako prazen, bo <code>output_file</code>  nastavljen na <code>logfile</code>. Aritmetična raširitev: <code>i=$(( (i + 1) % 5 ))</code>. Sekvence: <code>{1..10}</code>. Obrezovanje nizov: <code>${var%suffix}</code> in <code>${var#prefix}</code>. Na primer, če je <code>var=foo.pdf</code>, potem <code>echo ${var%.pdf}.txt</code> izpiše <code>foo.txt</code>.</p>
</li>
<li><p>Lupinska razširitev zavitih oklepajev z <code>{</code>…<code>}</code> lahko pomaga zmanjšati potrebo po ponovnem vpisovanju podobnega teksta in avtomatizira kombiniranje elementov. To je v pomoč v primerih kot je <code>mv foo.{txt,pdf} some-dir</code> (ki premakne obe datoteki), <code>cp somefile{,.bak}</code> (kar razširi v <code>cp somefile somefile.bak</code>) ali <code>mkdir -p test-{a,b,c}/subtest-{1,2,3}</code> (kar razširi vse možne kombinacije in ustvari drevo direktorijev). Razširitev zavitih oklepajev je izvedena pred katerokoli drugo razširitvijo.</p>
</li>
<li><p>Vrstni red razširitev je: razširitev zavitega oklepaja; razširitev tilda, razširitev parametra in spremenljivke, aritmetična razširitev in zamenjava ukaza (izvedeno na način levo proti desnem); delitev besed; in razširitev imena datoteke. Na primer, obseg kot je <code>{1..20}</code> ne more biti izražen s spremenljivkami z uporabo <code>{$a..$b}</code> ob predpostavki <code>a=1</code> in <code>b=20</code> in doprinese <code>{1..20}</code>. Uporabite <code>seq</code> ali <code>for</code> zanko, npr., <code>seq $a $b</code> ali <code>for((i=a; i&lt;=b; i++)); do ... ; done</code>.</p>
</li>
<li><p>Izpis ukaza se lahko tretira kot datoteko preko <code>&lt;(some command)</code> (znan kot proces zamenjave). Na primer, primerjajte lokalno <code>/etc/hosts</code> z oddaljeno:</p>
<pre><code class="sh">diff /etc/hosts &lt;(ssh somehost cat /etc/hosts)
</code></pre>
</li>
<li><p>Ko pišete skripte, boste morda želeli dati vašo kodo v zavite oklepaje. Če zapirajoči se oklepaj manjka, se vaša skripta ne bo izvršila zaradi sintaktične napake. To je smiselno, ko se vašo skripto prenese iz spleta, saj preprečuje izvrševanje delno prenešene skripte:</p>
<pre><code class="bash">{
  <span class="comment"># Vaša koda</span>
}
</code></pre>
</li>
<li><p>T.i. “here document” omogoča <a href="https://www.tldp.org/LDP/abs/html/here-docs.html">preusmeritev večih vrstic vnosa</a> kot da gre za datoteko:</p>
<pre><code>cat &lt;&lt; EOF
These lines will
print to stdout
EOF
</code></pre></li>
<li><p>V Bash-u je preusmeritev obeh standardov izpisa in standardnih napak preko: <code>some-command &gt;logfile 2&gt;&amp;1</code> ali <code>some-command &amp;&gt;logfile</code>. Pogosto zagotavlja, da ukaz ne pusti ročaja odprte datoteke za standardni vnos, kar ga veže na terminal v katerem se nahajate, je tudi dobra praksa, da dodate <code>&lt;/dev/null</code>.</p>
</li>
<li><p>Uporabite <code>man ascii</code> za dobro tabelo ASCII s heksadecimalnimi in decimalnimi vrednostmi. Za splošne informacije enkodiranja so priročni <code>man unicode</code>, <code>man utf-8</code> in <code>man latin1</code>.</p>
</li>
<li><p>Uporabite <code>screen</code> ali <a href="https://tmux.github.io/"><code>tmux</code></a>, da muliplicirate zaslon, posebej uporabno na oddaljenih sejah ssh in da odstranite in se ponovno pripnete k seji. <code>byobu</code> lahko poveča t.i. screen ali tmux s ponujanjem več informacij in enostavnejšim upravljanjem. Bolj minimalna alternativa za samo obstojnost sej je <a href="https://github.com/bogner/dtach"><code>dtach</code></a>.</p>
</li>
<li><p>V ssh je poznavanje, kako usmeriti tunel z <code>-L</code> ali <code>-D</code> (in občasno <code>-R</code>) je uporaben, npr. za dostopanje do spletnih strani iz oddaljenega strežnika.</p>
</li>
<li><p>Lahko je uporabno, da se naredi nekaj optimizacij na vaših nastavitvah ssh; na primer, ta <code>~/.ssh/config</code> vsebuje nastavitve za izogib padle povezave v določenih okoljih omrežja, uporablja kompresijo (ki je v pomoč s scp preko nizko pasovnih povezav) in multiplicira kanale na isti strežnik z lokalno krmilno datoteko:</p>
<pre><code>TCPKeepAlive=yes
ServerAliveInterval=15
ServerAliveCountMax=6
Compression=yes
ControlMaster auto
ControlPath /tmp/%r@%h:%p
ControlPersist yes
</code></pre></li>
<li><p>Nekaj ostalih opcij relevantnih za ssh je varnostno občutljivih in bi morale biti omogočene s pazljivostjo, npr. na podomrežju ali gostitelju ali v zaupljivih omrežjih: <code>StrictHostKeyChecking=no</code>, <code>ForwardAgent=yes</code></p>
</li>
<li><p>Premislite o <a href="https://mosh.mit.edu/"><code>mosh</code></a> kot alternativi za ssh, ki uporablja UDP, da se izognete padlim povezavam in dodate priročnost, ko ste na poti (zahteva nastavitev strežniške strani).</p>
</li>
<li><p>Da dobite pravice na datoteki v osmiškem zapisu, ki je uporaben za nastavitve sistema vendar ni na voljo pri <code>ls</code> in enostaven za mešanje, uporabite nekaj takega kot je</p>
<pre><code class="sh"><span class="built_in">stat</span> -c <span class="string">'%A %a %n'</span> /etc/timezone
</code></pre>
</li>
<li><p>Za interaktivno izbiro vrednosti iz izpisa drugega ukaza, uporabite <a href="https://github.com/mooz/percol"><code>percol</code></a> ali <a href="https://github.com/junegunn/fzf"><code>fzf</code></a>.</p>
</li>
<li><p>Za interakcijo z datotekami osnovanimi na izpisu drugega ukaza (kot je <code>git</code>), uporabite <code>fpp</code> (<a href="https://github.com/facebook/PathPicker">PathPicker</a>).</p>
</li>
<li><p>Za enostaven spletni strežnik za vse datoteke v trenutnem direktoriju (in poddirektorijih), ki so na voljo komurkoli v vašem omrežju, uporabite:<br><code>python -m SimpleHTTPServer 7777</code> (za port 7777 in Python 2) in <code>python -m http.server 7777</code> (za port 7777 in Python 3).</p>
</li>
<li><p>Za pogon ukaza pod drugim uporabnikom, uporabite <code>sudo</code>. Privzeto požene kot root; uporabite <code>-u</code>, da določite drugega uporabnika. Uporabite <code>-i</code> za prijavo tega uporabnika (vprašalo vas bo za <em>vaše</em> geslo).</p>
</li>
<li><p>Za preklop lupine na drugega uporabnika, uporabite <code>su username</code> ali <code>su - username</code>. Pripona <code>-</code> dobi okolje, kakor da bi se drug uporabnik ravnokar prijavil. Izpustitev uporabniškega imena pomeni privzeto root. Vprašani boste za geslo <em>uporabnika na katerega preklapljate</em>.</p>
</li>
<li><p>Spoznajte <a href="https://wiki.debian.org/CommonErrorMessages/ArgumentListTooLong">omejitev 128K</a> v ukaznih vrsticah. Ta napaka “Argument list too long” je pogosta, ko se nadomestni znak ujema z velikim številom datotek. (Ko se to zgodi, lahko pomagajo alternative kot sta <code>find</code> in <code>xargs</code>.)</p>
</li>
<li><p>Za osnovni kalkulator (in seveda splošni dostop do Python-a) uporabite interpreter <code>python</code>. Na primer,</p>
<pre><code>&gt;&gt;&gt; 2+3
5
</code></pre></li>
</ul>
<h2 id="Procesiranje-datotek-in-podatkov"><a href="#Procesiranje-datotek-in-podatkov" class="headerlink" title="Procesiranje datotek in podatkov"></a>Procesiranje datotek in podatkov</h2><ul>
<li><p>Da locirate datoteko po imenu v trenutnem direktoriju, <code>find . -iname &#39;*something*&#39;</code> (ali podobno). Da najdete datoteko kjerkoli po imenu, uporabite <code>locate something</code> (vendar imejte v mislih, da <code>updatedb</code> morda ni poindeksiral nazadnje ustvarjenih datotek).</p>
</li>
<li><p>Za splošno iskanje skozi izvorne ali podatkovne datoteke, na voljo je nekaj možnosti bolj naprednih in hitrejših možnosti od <code>grep -r</code>, vključno z (po surovem vrstnem redu od starejših do novejših) <a href="https://github.com/beyondgrep/ack2"><code>ack</code></a>, <a href="https://github.com/ggreer/the_silver_searcher"><code>ag</code></a> (“t.i. silver searcher”) in <a href="https://github.com/BurntSushi/ripgrep"><code>rg</code></a> (ripgrep).</p>
</li>
<li><p>Da pretvorite HTML v tekst: <code>lynx -dump -stdin</code></p>
</li>
<li><p>Za Markdown, HTML in vse vrste pretvorb dokumentov poskusite <a href="http://pandoc.org/"><code>pandoc</code></a>.</p>
</li>
<li><p>Če morate upravljati z XML, je <code>xmlstarlet</code> star vendar dober.</p>
</li>
<li><p>Za JSON, use <a href="http://stedolan.github.io/jq/"><code>jq</code></a>. Za interaktivnost glejte tudi <a href="https://github.com/simeji/jid"><code>jid</code></a> in <a href="https://github.com/fiatjaf/jiq"><code>jiq</code></a>.</p>
</li>
<li><p>Za YAML, uporabite <a href="(https://github.com/0k/shyaml"><code>shyaml</code></a>.</p>
</li>
<li><p>Za Excel ali CSV datoteke, <a href="https://github.com/onyxfish/csvkit">csvkit</a> ponuja <code>in2csv</code>, <code>csvcut</code>, <code>csvjoin</code>, <code>csvgrep</code> itd.</p>
</li>
<li><p>Za Amazon S3 je priročen <a href="https://github.com/s3tools/s3cmd"><code>s3cmd</code></a> in <a href="https://github.com/bloomreach/s4cmd"><code>s4cmd</code></a> je hitrejši. Amazon-ov <a href="https://github.com/aws/aws-cli"><code>aws</code></a> in izboljšan <a href="https://github.com/donnemartin/saws"><code>saws</code></a> sta bistvena za druga AWS-povezana opravila.</p>
</li>
<li><p>Naučite se o <code>sort</code> in <code>uniq</code> vključno z uniq-ovima opcijama <code>-u</code> in <code>-d</code> – glejte spodaj sekcijo v eni vrstici. Glejte tudi <code>comm</code>.</p>
</li>
<li><p>Naučite se o <code>cut</code>, <code>paste</code> in <code>join</code> za manipuliranje tekstovnih datotek. Mnogi uporabljajo <code>cut</code> vendar pozabijo na <code>join</code>.</p>
</li>
<li><p>Naučite se o <code>wc</code>, da preštejete nove vrstice (<code>-l</code>), znake (<code>-m</code>), besede (<code>-w</code>) in bajte (<code>-c</code>).</p>
</li>
<li><p>Naučite se o <code>tee</code>, da prekopirate iz stdin v datoteko in tudi v stdout, kot pri <code>ls -al | tee file.txt</code>.</p>
</li>
<li><p>Za kompleksnejše kalkulacije, vključno z združevanjem, obračanjem polj in statističnimi izračuni, razmislite o <a href="https://www.gnu.org/software/datamash/"><code>datamash</code></a>.</p>
</li>
<li><p>Vedite, da lokalizacija vpliva na veliko orodij ukazne vrstice na subtilne načine, vključno z vrstnim redom (kolokacijo) in uspešnostjo. Večina namestitev Linux-a bo nastavila <code>LANG</code> ali druge spremenljivke lokalizacije na lokalne nastavitve kot je US English. Vendar bodite pozorni, saj se bo vrstni red spremenil, če spremenite lokalizacijo. In vedite, da rutine i18n lahko naredijo sortiranje ali poganjanje drugih ukazov <em>nekajkrat</em> počasnejše. V nekaterih situacijah (kot je skupek operacij ali unikatnih operacij spodaj) lahko v celoti varno ignorirate počasne rutine i18n in uporabite tradicionalne vrstne rede na osnovi bajtov z uporabo <code>export LC_ALL=C</code>.</p>
</li>
<li><p>Nastavite lahko določeno okolje ukaza s predpono njegovega sklicevanja na nastavitve spremenljivk okolja, kot pri <code>TZ=Pacific/Fiji date</code>.</p>
</li>
<li><p>Spoznajte osnove <code>awk</code> in <code>sed</code> za enostavno manipuliranje podatkov. Za primere glejte sekcijo <a href="#v-eni-vrstici">v eni vrstici</a>.</p>
</li>
<li><p>Da zamenjate vsa pojavljanja niza na mestu v eni ali večih datotekah:</p>
<pre><code class="sh">perl -pi.bak -e <span class="string">'s/old-string/new-string/g'</span> my-files-*.txt
</code></pre>
</li>
<li><p>Da preimenujete več datotek in/ali poiščete in poiščete in zamenjate znotraj datotek, poskusite <a href="https://github.com/jlevy/repren"><code>repren</code></a>. (V nekaterih primerih ukaz <code>rename</code> tudi omogoča preimenovanje, vendar bodite pozorni, saj funkcionalnost ni enaka na vseh distribucijah Linux).</p>
<pre><code class="sh"><span class="comment"># Full rename of filenames, directories, and contents foo -&gt; bar:</span>
repren --full --preserve-case --from foo --to bar .
<span class="comment"># Recover backup files whatever.bak -&gt; whatever:</span>
repren --renames --from <span class="string">'(.*)\.bak'</span> --to <span class="string">'\1'</span> *.bak
<span class="comment"># Same as above, using rename, if available:</span>
rename <span class="string">'s/\.bak$//'</span> *.bak
</code></pre>
</li>
<li><p>Kot pravi stran vodiča, je <code>rsync</code> resnično hiter in izredno vsestransko orodje kopiranja datotek. Znano je po sinhronizaciji med napravami vendar je enakovredno uporaben tudi lokalno. Ko omejitve varnosti omogočajo, uporaba <code>rsync</code> namesto <code>scp</code> omogoča povrnitev prenosa brez ponovnega zagona od začetka. Je tudi eden izmed <a href="https://web.archive.org/web/20130929001850/http://linuxnote.net/jianingy/en/linux/a-fast-way-to-remove-huge-number-of-files.html">najhitrejših načinov</a> za izbris velikega števila datotek:</p>
<pre><code class="sh">mkdir empty &amp;&amp; rsync -r --delete empty/ some-dir &amp;&amp; rmdir some-dir
</code></pre>
</li>
<li><p>Za spremljanje napredka med kopiranjem datotek uporabite <a href="http://www.ivarch.com/programs/pv.shtml"><code>pv</code></a>, <a href="https://github.com/dmerejkowsky/pycp"><code>pycp</code></a>, <a href="https://github.com/dspinellis/pmonitor"><code>pmonitor</code></a>, <a href="https://github.com/Xfennec/progress"><code>progress</code></a>, <code>rsync --progress</code>, ali za kopiranje na nivoju blokov <code>dd status=progress</code>.</p>
</li>
<li><p>Uporabite <code>shuf</code> za naključno mešanje ali izbiro naključnih vrstic iz datoteke.</p>
</li>
<li><p>Poznajte opcije za <code>sort</code>. Za številke uporabite <code>-n</code> ali <code>-h</code> za upravljanje številk človeku prijaznih za branje (npr. iz <code>du -h</code>). Vedite, kako delujejo ključi (<code>-t</code> in <code>-k</code>). Še posebej pazite, da morate zapisati <code>-k1,1</code>, da razvrstite samo po prvem polju; <code>-k1</code> pomeni razvrščanje glede na celotno vrstico. Stabilno razvrščanje (<code>sort -s</code>) je lahko uporabno. Na primer, da sortirate najprej po polju 2 in nato po polju 1, lahko uporabite <code>sort -k1,1 | sort -s -k2,2</code>.</p>
</li>
<li><p>Če kadarkoli potrebujete zapisati tabulator dobesedno v ukazni vrstici v Bash-u (npr. za sortiranje argumenta -t), pritisnite <strong>ctrl-v</strong> <strong>[Tab]</strong> ali zapišite <code>$&#39;\t&#39;</code> (slednji je boljši, saj ga lahko kopirate in prilepite).</p>
</li>
<li><p>Standardna orodja za popravljanje izvorne kode so <code>diff</code> in <code>patch</code>. Glejte tudi <code>diffstat</code> za povzetek statistike diff-a in <code>sdiff</code> za diff drug ob drugem. Bodite pozorni, saj <code>diff -r</code> deluje za celotne direktorije. Uporabite <code>diff -r tree1 tree2 | diffstat</code> za povzetek sprememb. Uporabite <code>vimdiff</code> za primerjanje in urejanje datotek.</p>
</li>
<li><p>Pri binarnih datotekah uporabite <code>hd</code>, <code>hexdump</code> ali <code>xxd</code> za enostavne heksadecimalne izpise in <code>bvi</code>, <code>hexedit</code>, ali <code>biew</code> za binarno urejanje.</p>
</li>
<li><p><code>strings</code> (plus <code>grep</code> itd.) vam omogoča najti bite v tekstu tudi za binarne datoteke.</p>
</li>
<li><p>Za binarne diff-e (delta kompresije) uporabite <code>xdelta3</code>.</p>
</li>
<li><p>Da pretvorite enkodiranje teksta, poskusite <code>iconv</code>. Ali <code>uconv</code> za bolj napredno uporabo; podpira nekaj naprednih Unicode stvari. Na primer:</p>
<pre><code class="sh"><span class="comment"># Prikaže hex kode ali dejanska imea znakov (uporabno za razhroščevanje):</span>
uconv -f utf-8 -t utf-8 -x <span class="string">'::Any-Hex;'</span> &lt; input.txt
uconv -f utf-8 -t utf-8 -x <span class="string">'::Any-Name;'</span> &lt; input.txt
<span class="comment"># Male črke in odstrani vsa naglasna znamenja (z razširitvijo in opustitvijo):</span>
uconv -f utf-8 -t utf-8 -x <span class="string">'::Any-Lower; ::Any-NFD; [:Nonspacing Mark:] &gt;; ::Any-NFC;'</span> &lt; input.txt &gt; output.txt
</code></pre>
</li>
<li><p>Da razcepite datoteke na dele, glejte <code>split</code> (da razcepite po velikosti) in <code>csplit</code> (da razcepite po vzorcu).</p>
</li>
<li><p>Datum in čas: Da dobite trenutni datum in čas v priročnem <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a> formatu, uporabite <code>date -u +&quot;%Y-%m-%dT%H:%M:%SZ&quot;</code> (ostale opcije <a href="https://stackoverflow.com/questions/7216358/date-command-on-os-x-doesnt-have-iso-8601-i-option">so</a> <a href="https://unix.stackexchange.com/questions/164826/date-command-iso-8601-option">problematične</a>). Za manipuliranje izrazov datuma in časa, uporabite <code>dateadd</code>, <code>datediff</code>, <code>strptime</code> itd. iz <a href="http://www.fresse.org/dateutils/"><code>dateutils</code></a>.</p>
</li>
<li><p>Uporabite <code>zless</code>, <code>zmore</code>, <code>zcat</code> in <code>zgrep</code> za operiranje na kompresiranih datotekah.</p>
</li>
<li><p>Atributi datotek so nastavljivi preko <code>chattr</code> in ponujajo nizko nivojsko alternativo pravicam datotek. Na primer za zaščito pred ponesrečenim brisanjem datoteke se uporabi nespremenljiva zastavica: <code>sudo chattr +i /critical/directory/or/file</code></p>
</li>
<li><p>Uporabite <code>getfacl</code> in <code>setfacl</code>, da shranite in povrnete pravice datotek. Na primer:</p>
<pre><code class="sh">getfacl -R /some/path &gt; permissions.txt
setfacl --restore=permissions.txt
</code></pre>
</li>
<li><p>Za hitro ustvarjanje praznih datotek, uporabite <code>truncate</code> (ustvari t.i. <a href="https://en.wikipedia.org/wiki/Sparse_file">sparse file</a>), <code>fallocate</code> (ext4, xfs, btrfs in ocfs2 datotečni sistemi), <code>xfs_mkfile</code> (skoraj katerikoli datotečni sistem, pride skupaj s paketom xfsprogs), <code>mkfile</code> (za Unix in podobne sisteme kot sta Solaris in Mac OS).</p>
</li>
</ul>
<h2 id="Sistemsko-razhroscevanje"><a href="#Sistemsko-razhroscevanje" class="headerlink" title="Sistemsko razhroščevanje"></a>Sistemsko razhroščevanje</h2><ul>
<li><p>Za spletno razhroščevanje, sta priročna <code>curl</code> in <code>curl -I</code> ali pa njun ekvivalent <code>wget</code>, ali bolj moderen <a href="https://github.com/jkbrzt/httpie"><code>httpie</code></a>.</p>
</li>
<li><p>Da izveste trenutni status diska/procesorja/omrežja, so na voljo klasična orodja <code>top</code>, (ali bolje <code>htop</code>), <code>iostat</code> in <code>iotop</code> . Uporabite <code>iostat -mxz 15</code> za osnovno statistiko CPU in podrobno na particijo statistiko diska in vpogled v uspešnost.</p>
</li>
<li><p>Za podrobnosti omrežne povezave uporabite <code>netstat</code> in <code>ss</code>.</p>
</li>
<li><p>Za hiter pregled, kaj se dogaja na sistemu, je <code>dstat</code> posebno uporaben. Za širši pregled s podrobnostmi uporabite <a href="https://github.com/nicolargo/glances"><code>glances</code></a>.</p>
</li>
<li><p>Da izveste status spomina, poženite in razumite izpis <code>free</code> in <code>vmstat</code>. Še posebej bodite pozorni, da je vrednost “cached” držana v spominu s strani jedra Linux-a kot datoteka predpomnilnika, tako da efektivno šteje proti vrednosti “free”.</p>
</li>
<li><p>Sistemsko razhroščevanje Java je drugačen tip, vendar enostaven trik na JVM-jih Oracle-a in nekaterih ostalih je, da lahko poženete <code>kill -3 &lt;pid&gt;</code> in sledite celotnemu stack-u in povzetku kopic (vključno s podrobnostmi zbirke splošnih smeti, ki so lahko zelo informativne), ki bodo oddane v stderr/logs. JDK-jevi <code>jps</code>, <code>jstat</code>, <code>jstack</code>, <code>jmap</code> so uporabni. <a href="https://github.com/aragozin/jvm-tools">SJK Tools</a> so bolj napredni.</p>
</li>
<li><p>Uporabite <a href="http://www.bitwizard.nl/mtr/"><code>mtr</code></a> kot boljši usmerjevalnik sledenja za identifikacijo težav omrežja.</p>
</li>
<li><p>Za iskanje, zakaj je disk poln, vam <a href="https://dev.yorhel.nl/ncdu"><code>ncdu</code></a> prihrani čas preko običajnih ukazov kot je <code>du -sh *</code>.</p>
</li>
<li><p>Da najdete katera vtičnica ali proces uporablja pasovno širino, poskusite <a href="http://www.ex-parrot.com/~pdw/iftop/"><code>iftop</code></a> ali <a href="https://github.com/raboof/nethogs"><code>nethogs</code></a>.</p>
</li>
<li><p>Orodje <code>ab</code> (prihaja z Apache-jem) je v pomoč za hitro in nečisto preverjanje uspešnosti spletnega strežnika. Za bolj kompleksno testiranje nalaganja poskusite <code>siege</code>.</p>
</li>
<li><p>Za bolj resno razhroščevanje omrežja, <a href="https://wireshark.org/"><code>wireshark</code></a>, <a href="https://www.wireshark.org/docs/wsug_html_chunked/AppToolstshark.html"><code>tshark</code></a> ali <a href="http://ngrep.sourceforge.net/"><code>ngrep</code></a>.</p>
</li>
<li><p>Poznajte <code>strace</code> in <code>ltrace</code>. Ta sta v pomoč, če program ni uspešen, se ustavlja ali poruši in ne veste zakaj, ali če želite dobiti splošno idejo o uspešnosti. Bodite pozorni na opcijo profiliranja (<code>-c</code>) in zmožnost dodajanja k procesu, ki se poganja (<code>-p</code>). Uporabite podrejene opcije trace (<code>-f</code>), da se izognete manjkajočim pomembnim klicem.</p>
</li>
<li><p>Poznajte <code>ldd</code>, da preverite deljene knjižnice itd. —  vendar <a href="http://www.catonmat.net/blog/ldd-arbitrary-code-execution/">nikoli ne poženite na nezaupljivih datotekah</a>.</p>
</li>
<li><p>Vedite, kako se povezati k procesu v pogonu z <code>gdb</code> in dobiti njegove sledi skladovnice.</p>
</li>
<li><p>Uporabite <code>/proc</code>. Včasih je izjemno v pomoč, ko se razhroščuje probleme v živo. Primeri: <code>/proc/cpuinfo</code>, <code>/proc/meminfo</code>, <code>/proc/cmdline</code>, <code>/proc/xxx/cwd</code>, <code>/proc/xxx/exe</code>, <code>/proc/xxx/fd/</code>, <code>/proc/xxx/smaps</code> (kjer je <code>xxx</code> id procesa ali pid).</p>
</li>
<li><p>Ko se razhroščuje, zakaj je šlo nekaj narobe v preteklosti, je lahko zelo uporaben <a href="http://sebastien.godard.pagesperso-orange.fr/"><code>sar</code></a>. Prikazuje statistiko zgodovine na procesorju, spominu, omrežju itd.</p>
</li>
<li><p>Za globlje analize sistema in uspešnosti, poglejte <code>stap</code> (<a href="https://sourceware.org/systemtap/wiki">SystemTap</a>), <a href="https://en.wikipedia.org/wiki/Perf_%28Linux%29"><code>perf</code></a> in <a href="https://github.com/draios/sysdig"><code>sysdig</code></a>.</p>
</li>
<li><p>Preverite na katerem operacijskem sistemu ste z <code>uname</code> ali <code>uname -a</code> (splošne informacije Unix-a/jedra) ali <code>lsb_release -a</code> (informacije distribucuje Linux).</p>
</li>
<li><p>Uporabite <code>dmesg</code> kadarkoli gre nekaj dejansko čudno (lahko je težava strojne opreme ali gonilnika).</p>
</li>
<li><p>Če izbrišete datoteko in se prostor na voljo ne poveča, kot je pričakovano s poročilom <code>du</code>, preverite ali datoteko uporablja proces:<br><code>lsof | grep deleted | grep &quot;filename-of-my-big-file&quot;</code></p>
</li>
</ul>
<h2 id="V-eni-vrstici"><a href="#V-eni-vrstici" class="headerlink" title="V eni vrstici"></a>V eni vrstici</h2><p>Nekaj primerov sestavljanja ukazov skupaj:</p>
<ul>
<li><p>Včasih je izredno v pomoč, da lahko nastavite presek, unijo in razliko tekstovnih datotek preko <code>sort</code>/<code>uniq</code>. Predpostavimo <code>a</code> in <code>b</code> sta tekstovni datoteki, ki sta že unikatni. To je hitro in deluje na datotekah arbitrarnih velikosti do nekaj gigabajtov. (Urejanje ni omejeno glede na spomin, čeprav morda potrebujete uporabiti opcijo <code>-T</code>, če je <code>/tmp</code> na majhni root particiji.) Glejte tudi opombo o <code>LC_ALL</code> zgoraj in <code>sort</code>-ovo opcijo <code>-u</code> (puščeno zaradi jasnosti spodaj).</p>
<pre><code class="sh">sort a b | uniq &gt; c   <span class="comment"># c is a union b</span>
sort a b | uniq -d &gt; c   <span class="comment"># c is a intersect b</span>
sort a b b | uniq -u &gt; c   <span class="comment"># c is set difference a - b</span>
</code></pre>
</li>
<li><p>Uporabite <code>grep . *</code>, da hitro preučite vsebine vseh datotek v direktoriju (vsaka vrstica ima par z imenom datoteke) ali <code>head -100 *</code> (da iima vsaka datoteka glavo). To je lahko uporabno za direktorije napolnjene s konfiguracijskimi nastavitvami, kot so tiste v <code>/sys</code>, <code>/proc</code>, <code>/etc</code>.</p>
</li>
</ul>
<ul>
<li><p>Povzetje vseh številk v tretjem stolpcu tekstovne datoteke (to je verjetno 3X hitrejše in 3X manj kode kot Python-ov ekvivalent):</p>
<pre><code class="sh">awk <span class="string">'{ x += $3 } END { print x }'</span> myfile
</code></pre>
</li>
<li><p>Da vidite velikost/datume v drevesu datotek, je to kot rekurzivni <code>ls -l</code> vendar enostavnejše za branje kot <code>ls -lR</code>:</p>
<pre><code class="sh">find . -<span class="built_in">type</span> f -ls
</code></pre>
</li>
<li><p>Recimo, da imate tekstovno datoteko, kot dnevnik spletnega strežnika in določena vrednost se pojavi na nekaterih vrsticah, kot parameter <code>acct_id</code>, ki je prisoten v URL-ju. Če želite ujemanja, koliko je zahtevkov za vsak <code>acct_id</code>:</p>
<pre><code class="sh">egrep -o <span class="string">'acct_id=[0-9]+'</span> access.log | cut -d= -f2 | sort | uniq -c | sort -rn
</code></pre>
</li>
<li><p>Da neprekinjeno nadzirate spremembe, uporabite <code>watch</code>, npr. preverite spremembe datotek v direktoriju z <code>watch -d -n 2 &#39;ls -rtlh | tail&#39;</code> ali med odpravljanjem težav vaših nastavitev wifi z <code>watch -d -n 2 ifconfig</code>.</p>
</li>
<li><p>Poženite to funkcijo, da dobite naključni nasvet iz tega dokumenta (razčleni Markdown in izvleče element):</p>
<pre><code class="sh"><span class="keyword">function</span> <span class="function"><span class="title">taocl</span></span>() {
  curl -s https://raw.githubusercontent.com/jlevy/the-art-of-command-line/master/README.md |
    sed <span class="string">'/cowsay[.]png/d'</span> |
    pandoc -f markdown -t html |
    xmlstarlet fo --html --dropdtd |
    xmlstarlet sel -t -v <span class="string">"(html/body/ul/li[count(p)&gt;0])[<span class="variable">$RANDOM</span> mod last()+1]"</span> |
    xmlstarlet unesc | fmt -80 | iconv -t US
}
</code></pre>
</li>
</ul>
<h2 id="Nepregledno-vendar-uporabno"><a href="#Nepregledno-vendar-uporabno" class="headerlink" title="Nepregledno vendar uporabno"></a>Nepregledno vendar uporabno</h2><ul>
<li><p><code>expr</code>: izvede aritmetične ali logične operacije ali oceni splošne izraze</p>
</li>
<li><p><code>m4</code>: enostaven makro procesor</p>
</li>
<li><p><code>yes</code>: velikokrat izpiše niz</p>
</li>
<li><p><code>cal</code>: lep koledar</p>
</li>
<li><p><code>env</code>: požene ukaz (uporabno v skriptah)</p>
</li>
<li><p><code>printenv</code>: izpiše spremenljivke okolja (uporabno pri razhroščevanju in v skriptah)</p>
</li>
<li><p><code>look</code>: najde angleške besede (ali vrstice v datoteki) začenši z nizom</p>
</li>
<li><p><code>cut</code>, <code>paste</code> in <code>join</code>: manipulacija podatkov</p>
</li>
<li><p><code>fmt</code>: oblikuje odstavke teksta</p>
</li>
<li><p><code>pr</code>: oblikuje tekst v strani/stolpce</p>
</li>
<li><p><code>fold</code>: ovije vrstice teksta</p>
</li>
<li><p><code>column</code>: oblikuje tekstovna polja v poravnane stolpce s fiksno širino ali tabele</p>
</li>
<li><p><code>expand</code> in <code>unexpand</code>: pretvori med tabulatorji in presledki</p>
</li>
<li><p><code>nl</code>: doda vrstice številk</p>
</li>
<li><p><code>seq</code>: izpiše številke</p>
</li>
<li><p><code>bc</code>: kalkulator</p>
</li>
<li><p><code>factor</code>: celo številski faktorji</p>
</li>
<li><p><a href="https://gnupg.org/"><code>gpg</code></a>: enkriptira in podpiše datoteke</p>
</li>
<li><p><code>toe</code>: tabela vnosov terminfo</p>
</li>
<li><p><code>nc</code>: rahroščevanje omrežja in prenos podatkov</p>
</li>
<li><p><code>socat</code>: rele vtičnice in odpravnik tcp porta (podobno kot <code>netcat</code>)</p>
</li>
<li><p><a href="https://github.com/mattthias/slurm"><code>slurm</code></a>: vizualizacija prometa omrežja</p>
</li>
<li><p><code>dd</code>: premikanje podatkov med datotekami in napravami</p>
</li>
<li><p><code>file</code>: identifikacija tipa datoteke</p>
</li>
<li><p><code>tree</code>: prikaže direktorije in poddirektorije kot gnezdeno drevo; kot <code>ls</code> vendar rekurzivno</p>
</li>
<li><p><code>stat</code>: informacije datoteke</p>
</li>
<li><p><code>time</code>: izvrši in da ukaz v čas</p>
</li>
<li><p><code>timeout</code>: izvršite ukaz za določen čas in ustavite proces, ko se določen čas konča.</p>
</li>
<li><p><code>lockfile</code>: ustvari semaforno datoteko, ki je lahko odstranjena samo z <code>rm -f</code></p>
</li>
<li><p><code>logrotate</code>: rotiranje, kompresiranje in pošiljanje dnevnikov po e-pošti.</p>
</li>
<li><p><code>watch</code>: večkrat požene ukaz in prikazuje rezultate in/ali poudari spremembe</p>
</li>
<li><p><a href="https://github.com/joh/when-changed"><code>when-changed</code></a>: požene kateri koli ukaz, ki ga določite, kadarkoli opazi spremembo datoteke. Glejte tudi <code>inotifywait</code> in <code>entr</code>.</p>
</li>
<li><p><code>tac</code>: izpiše datoteke v obratnem redu</p>
</li>
<li><p><code>comm</code>: primerja sortirane datoteke vrstico za vrstico</p>
</li>
<li><p><code>strings</code>: izvleče tekst iz binarnih datotek</p>
</li>
<li><p><code>tr</code>: prevod znakov ali manipulacija</p>
</li>
<li><p><code>iconv</code> ali <code>uconv</code>: pretvorba enkodiranja teksta</p>
</li>
<li><p><code>split</code> in <code>csplit</code>: cepljenje datotek</p>
</li>
<li><p><code>sponge</code>: prebere vse vnose pred pisanjem, uporabno za branje iz njih in nato za pisanje v isto datoteko, npr. <code>grep -v something some-file | sponge some-file</code></p>
</li>
<li><p><code>units</code>: pretvorba enot in kalkulacije; pretvori furlonge (osmino milje) na štirinajst dni v dvajsetine točke na blink (glejte tudi <code>/usr/share/units/definitions.units</code>)</p>
</li>
<li><p><code>apg</code>: generira naključna gesla</p>
</li>
<li><p><code>xz</code>: kompresija datoteke visokega razmerja</p>
</li>
<li><p><code>ldd</code>: informacije dinamične knjižnice</p>
</li>
<li><p><code>nm</code>: simboli iz datotek objekta</p>
</li>
<li><p><code>ab</code> ali <a href="https://github.com/wg/wrk"><code>wrk</code></a>: merjenje uspešnosti spletnih strežnikov</p>
</li>
<li><p><code>strace</code>: razhroščevanje sistemskega klica</p>
</li>
<li><p><a href="http://www.bitwizard.nl/mtr/"><code>mtr</code></a>: boljše sledenje usmerjanja za razhroščevanje omrežja</p>
</li>
<li><p><code>cssh</code>: vizualna sočasna lupina</p>
</li>
<li><p><code>rsync</code>: sinhronizacija datotek in map preko SSH ali v lokalnem datotečnem sistemu</p>
</li>
<li><p><a href="https://wireshark.org/"><code>wireshark</code></a> in <a href="https://www.wireshark.org/docs/wsug_html_chunked/AppToolstshark.html"><code>tshark</code></a>: zajem paketov in razhroščevanje omrežja</p>
</li>
<li><p><a href="http://ngrep.sourceforge.net/"><code>ngrep</code></a>: grep za nivo omrežja</p>
</li>
<li><p><code>host</code> in <code>dig</code>: pogled DNS</p>
</li>
<li><p><code>lsof</code>: procesira deskriptorje datoteke in informacije vtičnice</p>
</li>
<li><p><code>dstat</code>: uporabna statistika sistema</p>
</li>
<li><p><a href="https://github.com/nicolargo/glances"><code>glances</code></a>: visoko nivojski, večkratni podsistemski pregled</p>
</li>
<li><p><code>iostat</code>: statistika uporabe diska</p>
</li>
<li><p><code>mpstat</code>: statistika uporabe procesorja</p>
</li>
<li><p><code>vmstat</code>: statistika uporabe spomina</p>
</li>
<li><p><code>htop</code>: izboljšana verzija top</p>
</li>
<li><p><code>last</code>: zgodovina prijav</p>
</li>
<li><p><code>w</code>: kdo je prijavljen</p>
</li>
<li><p><code>id</code>: informacije identifikacije uporabnika/skupine</p>
</li>
<li><p><a href="http://sebastien.godard.pagesperso-orange.fr/"><code>sar</code></a>: statistika zgodovine sistema</p>
</li>
<li><p><a href="http://www.ex-parrot.com/~pdw/iftop/"><code>iftop</code></a> ali <a href="https://github.com/raboof/nethogs"><code>nethogs</code></a>: izkoriščenost omrežja po vtičnici ali procesu</p>
</li>
<li><p><code>ss</code>: statistika vtičnice</p>
</li>
<li><p><code>dmesg</code>: sporočila napak zagona in sistema</p>
</li>
<li><p><code>sysctl</code>: ogled in nastavitev parametrov jedra Linux pri pogonu</p>
</li>
<li><p><code>hdparm</code>: manipulacija/uspešnost SATA/ATA disk-a</p>
</li>
<li><p><code>lsblk</code>: izpiše blokovne naprave: drevesni pogled vaših diskov in particij diska</p>
</li>
<li><p><code>lshw</code>, <code>lscpu</code>, <code>lspci</code>, <code>lsusb</code>, <code>dmidecode</code>: informacije strojne opreme, vključno s procesorjem, BIOS-om, RAID-om, grafiko, napravami itd.</p>
</li>
<li><p><code>lsmod</code> in <code>modinfo</code>: izpišeta in prikažeta podrobnosti o modulih jedra.</p>
</li>
<li><p><code>fortune</code>, <code>ddate</code> in <code>sl</code>: hm, torej zavisi glede na to ali smatrate parne lokomotive in dinamične kotacije “uporabne”</p>
</li>
</ul>
<h2 id="Samo-za-macOS"><a href="#Samo-za-macOS" class="headerlink" title="Samo za macOS"></a>Samo za macOS</h2><p>To so elementi pomembni <em>samo</em> za macOS.</p>
<ul>
<li><p>Upravljanje paketov z <code>brew</code> (Homebrew) in/ali <code>port</code> (MacPorts). Te so lahko uporabljeni za namestitev mnogih zgornjih ukazov na macOS.</p>
</li>
<li><p>Kopirajte izpis katerega koli ukaza na namizno aplikacijo s <code>pbcopy</code> in prilepite vnos iz ene s <code>pbpaste</code>.</p>
</li>
<li><p>Da omogočite uporabo tipke Option v macOS terminalu kot tipka alt (kot je uporabljena v ukazih zgoraj kot <strong>alt-b</strong>, <strong>alt-f</strong> itd), odprite Preferences -&gt; Profiles -&gt; Keyboard in izberite “Use Option as Meta key”.</p>
</li>
<li><p>Da odprete datoteko z namizno aplikacijo, uporabite <code>open</code> ali <code>open -a /Applications/Whatever.app</code>.</p>
</li>
<li><p>Spotlight: Poiščite datoteke z <code>mdfind</code> in izpišite meta podatke (kot so EXIF informacije fotografije) z <code>mdls</code>.</p>
</li>
<li><p>Bodite pozorni, saj je macOS osnovan na BSD Unix in mnogi ukazi (na primer <code>ps</code>, <code>ls</code>, <code>tail</code>, <code>awk</code>, <code>sed</code>) imajo mnoge subtilne različice iz Linux-a, na katerega je večinoma vplival System V-style Unix in GNU tools. Pogostokrat lahko poveste razliko tako, da opazite, da ima stran man naslov “BSD General Commands Manual.” V nekaterih primerih se lahko namestijo tudi GNU različice (kot so <code>gawk</code> in <code>gsed</code> za GNU awk in sed). Če pišete skripte Bash za vse platforme, se izogibajte takim ukazom (na primer, z upoštevanjem Python ali <code>perl</code>) ali pazljivo testirajte.</p>
</li>
<li><p>Da dobite informacije o izdaji macOS, uporabite <code>sw_vers</code>.</p>
</li>
</ul>
<h2 id="Samo-za-Windows"><a href="#Samo-za-Windows" class="headerlink" title="Samo za Windows"></a>Samo za Windows</h2><p>Sledeče velja <em>samo</em> za Windows.</p>
<h3 id="Nacini-pridobitve-Unix-orodij-na-Windows"><a href="#Nacini-pridobitve-Unix-orodij-na-Windows" class="headerlink" title="Načini pridobitve Unix orodij na Windows"></a>Načini pridobitve Unix orodij na Windows</h3><ul>
<li><p>Dostopajte do moči lupine Unix na Microsoft Windows z namestitvijo <a href="https://cygwin.com/">Cygwin</a>. Večina stvari opisanih v tem dokumentu bo delala “Out of the Box”.</p>
</li>
<li><p>Na Windows 10 lahko uporabite <a href="https://msdn.microsoft.com/commandline/wsl/about">Windows Subsystem for Linux (WSL)</a>, ki ponuja znano okolje Bash z orodji ukazne vrstice Unix.</p>
</li>
<li><p>Če želite v glavnem uporabljati GNU razvojna orodja (kot je GCC) na Windows, premislite o <a href="http://www.mingw.org/">MinGW</a> in njegovem paketu <a href="http://www.mingw.org/wiki/msys">MSYS</a>, ki ponuja orodja, kot so bash, gawk, make in grep. MSYS nima vseh funkcij v primerjavi s Cygwin. MinGW je posebej uporaben za ustvarjanje izvornih Windows prenosov orodij Unix.</p>
</li>
<li><p>Druga opcija, da dobite izgled in občutek Unix-a na Windows-u, je <a href="https://github.com/dthree/cash">Cash</a>. Upoštevajte, da so v tem okolju na voljo le nekateri ukazi Unix in opcije ukazne vrstice.</p>
</li>
</ul>
<h3 id="Uporabna-Windows-orodja-ukazne-vrstice"><a href="#Uporabna-Windows-orodja-ukazne-vrstice" class="headerlink" title="Uporabna Windows orodja ukazne vrstice"></a>Uporabna Windows orodja ukazne vrstice</h3><ul>
<li><p>Izvajate in kodirate lahko večino sistemskih opravil Windows iz ukazne vrstice, če se naučite uporabljati <code>wmic</code>.</p>
</li>
<li><p>Izvorna mrežna orodja ukazne vrstice Windows, ki jih morda najdete uporabne, vključujejo <code>ping</code>, <code>ipconfig</code>, <code>tracert</code> in <code>netstat</code>.</p>
</li>
<li><p>Izvajate lahko <a href="http://www.thewindowsclub.com/rundll32-shortcut-commands-windows">mnoga upporabna opravila Windows</a> s klicem ukaza <code>Rundll32</code>.</p>
</li>
</ul>
<h3 id="Cygwin-nasveti-in-triki"><a href="#Cygwin-nasveti-in-triki" class="headerlink" title="Cygwin nasveti in triki"></a>Cygwin nasveti in triki</h3><ul>
<li><p>Namestite dodatne programe Unix z upraviteljem paketov Cygwin.</p>
</li>
<li><p>Uporabite <code>mintty</code> za vaše okno ukazne vrstice.</p>
</li>
<li><p>Do odložišča Windows dostopajte preko <code>/dev/clipboard</code>.</p>
</li>
<li><p>Poženite <code>cygstart</code>, da odprete poljubno datoteko preko njene registrirane aplikacije.</p>
</li>
<li><p>Do registra Windows dostopajte z <code>regtool</code>.</p>
</li>
<li><p>Upoštevajte, da pot diska Windows <code>C:\</code> postane v Cygwin <code>/cygdrive/c</code> in Cigwin-ov <code>/</code> se na Windows pojavi pod <code>C:\cygwin</code>. Pretvorite med Cygwin in Windows stilom poti datotek s <code>cygpath</code>. To je najbolj uporabno v skriptah, ki se sklicujejo na programe Windows.</p>
</li>
</ul>
<h2 id="Vec-virov"><a href="#Vec-virov" class="headerlink" title="Več virov"></a>Več virov</h2><ul>
<li><a href="https://github.com/alebcay/awesome-shell">awesome-shell</a>: urejan seznam orodij lupine in virov.</li>
<li><a href="https://github.com/herrbischoff/awesome-osx-command-line">awesome-osx-command-line</a>: Bolj poglobljen vodič za macOS ukazno vrstico.</li>
<li><a href="http://redsymbol.net/articles/unofficial-bash-strict-mode/">Strict mode</a> za pisanje boljših skript lupine.</li>
<li><a href="https://github.com/koalaman/shellcheck">shellcheck</a>: lupinska skripta orodja statične analize. V osnovi, lint za bash/sh/zsh.</li>
<li><a href="http://www.dwheeler.com/essays/filenames-in-shell.html">Filenames and Pathnames in Shell</a>: Na žalost kompleksne podrobnosti, kako pravilno ravnati z imeni datotek v lupinskih skriptah.</li>
<li><a href="http://datascienceatthecommandline.com/#tools">Data Science at the Command Line</a>: Več koristnih ukazov in orodij za uporabo v znanosti podatkov iz knjige z enakim imenom.</li>
</ul>
<h2 id="Pogoji-uporabe"><a href="#Pogoji-uporabe" class="headerlink" title="Pogoji uporabe"></a>Pogoji uporabe</h2><p>Z izjemo zelo majhnih opravil je koda napisana tako, da jo lahko ostali berejo. Z močjo pride odgovornost. Dejstvo, da <em>lahko</em> naredite nekaj v Bash-u ne pomeni nujno, da bi morali! ;)</p>
<h2 id="Licenca"><a href="#Licenca" class="headerlink" title="Licenca"></a>Licenca</h2><p><a href="http://creativecommons.org/licenses/by-sa/4.0/"><img src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" alt="Creative Commons License"></a></p>
<p>To delo je izdano pod <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</p>
